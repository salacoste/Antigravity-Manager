# üéØ –ü–õ–ê–ù –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø - –ü–æ–±–µ–¥–∏–º —Å–æ—Å–µ–¥–∞! üí™

## ‚úÖ –ß—Ç–æ —É–∂–µ –≥–æ—Ç–æ–≤–æ

1. ‚úÖ **mitmproxy —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** - –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Ç—Ä–∞—Ñ–∏–∫–∞
2. ‚úÖ **–°–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞–Ω—ã** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
3. ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ** - –≤ Rust –∫–æ–¥
4. ‚úÖ **User-Agent –æ–±–Ω–æ–≤–ª–µ–Ω** - –Ω–∞ –≤–µ—Ä—Å–∏—é 1.13.3
5. ‚úÖ **–ö–æ–¥ —Å–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω** - –≥–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

## üöÄ –î–í–ê –ü–ê–†–ê–õ–õ–ï–õ–¨–ù–´–• –ü–û–î–•–û–î–ê

### –ü–æ–¥—Ö–æ–¥ A: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç —Å –ª–æ–≥–∞–º–∏ (–†–ï–ö–û–ú–ï–ù–î–£–Æ –ù–ê–ß–ê–¢–¨ –° –≠–¢–û–ì–û!)

#### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å Antigravity Manager

–û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏:
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ "API Proxy"
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–∫—Å–∏ —Å–µ—Ä–≤–µ—Ä
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤—ã–±—Ä–∞–Ω –∞–∫–∫–∞—É–Ω—Ç —Å –∫–≤–æ—Ç–∞–º–∏ –Ω–∞ Claude

#### –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
cd /Users/r2d2/Documents/Code_Projects/00_mcp/Antigravity-Manager

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç –¥–ª—è –æ–±–µ–∏—Ö –º–æ–¥–µ–ª–µ–π
./scripts/test_claude_pool.sh both 3
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–°–∫—Ä–∏–ø—Ç –ø–æ–∫–∞–∂–µ—Ç:
- ‚úÖ –ï—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω 200 - –ü–û–ë–ï–î–ê! User-Agent –±—ã–ª –ø—Ä–æ–±–ª–µ–º–æ–π!
- ‚ùå –ï—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω 429 - –∏–¥–µ–º –∫ –ª–æ–≥–∞–º

#### –®–∞–≥ 4: –ï—Å–ª–∏ 429 - –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏

```bash
# –ù–∞–π—Ç–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–π –ª–æ–≥ —Ñ–∞–π–ª
ls -lt ~/Library/Application\ Support/com.lbjlaq.antigravity-tools/logs/ | head -2

# –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 —Å—Ç—Ä–æ–∫ —Å debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
tail -200 ~/Library/Application\ Support/com.lbjlaq.antigravity-tools/logs/antigravity_*.log | grep -A 50 "UPSTREAM REQUEST DEBUG"
```

**–í –ª–æ–≥–∞—Ö –∏—â–µ–º:**
- üîç –¢–æ—á–Ω—ã–π URL –∑–∞–ø—Ä–æ—Å–∞
- üîç –í—Å–µ headers (–æ—Å–æ–±–µ–Ω–Ω–æ User-Agent!)
- üîç Body —Å—Ç—Ä—É–∫—Ç—É—Ä—É (requestType, model)
- üîç –ü–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç —Å 429 –æ—à–∏–±–∫–æ–π

---

### –ü–æ–¥—Ö–æ–¥ B: –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å mitmproxy (–µ—Å–ª–∏ –ü–æ–¥—Ö–æ–¥ A –Ω–µ –ø–æ–º–æ–≥)

–≠—Ç–æ—Ç –º–µ—Ç–æ–¥ –ø–æ–∫–∞–∂–µ—Ç –¢–û–ß–ù–û–ï –æ—Ç–ª–∏—á–∏–µ –º–µ–∂–¥—É –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–º Antigravity –∏ –Ω–∞—à–∏–º.

#### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫

–¢–µ—Ä–º–∏–Ω–∞–ª 1:
```bash
cd /Users/r2d2/Documents/Code_Projects/00_mcp/Antigravity-Manager/.debug
./start_capture.sh
```

**–û—Å—Ç–∞–≤—å—Ç–µ —Ç–µ—Ä–º–∏–Ω–∞–ª –æ—Ç–∫—Ä—ã—Ç—ã–º!**

#### –®–∞–≥ 2: –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å –æ—Ç –û–†–ò–ì–ò–ù–ê–õ–¨–ù–û–ì–û Antigravity

–¢–µ—Ä–º–∏–Ω–∞–ª 2:
```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏—Å—Ç–µ–º–Ω—ã–π –ø—Ä–æ–∫—Å–∏ (–í–†–ï–ú–ï–ù–ù–û!)
networksetup -setwebproxy "Wi-Fi" 127.0.0.1 8888
networksetup -setsecurewebproxy "Wi-Fi" 127.0.0.1 8888
```

–ó–∞—Ç–µ–º:
1. –û—Ç–∫—Ä–æ–π—Ç–µ **–æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π Google Antigravity**
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Claude Sonnet (—Å–ø—Ä–æ—Å–∏—Ç–µ "hi")
3. –î–æ–∂–¥–∏—Ç–µ—Å—å –æ—Ç–≤–µ—Ç–∞

–ó–∞—Ç–µ–º –æ—Ç–∫–ª—é—á–∏—Ç–µ –ø—Ä–æ–∫—Å–∏:
```bash
networksetup -setwebproxystate "Wi-Fi" off
networksetup -setsecurewebproxystate "Wi-Fi" off
```

#### –®–∞–≥ 3: –ó–∞—Ö–≤–∞—Ç–∏—Ç—å –∑–∞–ø—Ä–æ—Å –æ—Ç –ù–ê–®–ï–ì–û Manager

–¢–µ—Ä–º–∏–Ω–∞–ª 2:
```bash
# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
export HTTP_PROXY=http://127.0.0.1:8888
export HTTPS_PROXY=http://127.0.0.1:8888

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Antigravity Manager
cd /Users/r2d2/Documents/Code_Projects/00_mcp/Antigravity-Manager
npm run tauri dev
```

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
1. –í–∫–ª—é—á–∏—Ç—å –ø—Ä–æ–∫—Å–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
2. –í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å:
```bash
./scripts/test_claude_pool.sh claude-sonnet-4-5 1
```

#### –®–∞–≥ 4: –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–µ—Ä–µ—Ö–≤–∞—Ç—á–∏–∫

–í —Ç–µ—Ä–º–∏–Ω–∞–ª–µ 1 –Ω–∞–∂–º–∏—Ç–µ `Ctrl+C`

#### –®–∞–≥ 5: –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∑–∞—Ö–≤–∞—Ç—ã

–§–∞–π–ª—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ `.debug/captures/`

–Ø —Å—Ä–∞–≤–Ω—é –∏—Ö –∏ –Ω–∞–π–¥—É –¢–û–ß–ù–û–ï –æ—Ç–ª–∏—á–∏–µ!

---

## üé≤ –ú–æ—è —Å—Ç–∞–≤–∫–∞

–Ø —Å—Ç–∞–≤–ª—é –Ω–∞ –æ–¥–Ω—É –∏–∑ —ç—Ç–∏—Ö –ø—Ä–∏—á–∏–Ω:

1. **70% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å** - User-Agent –≤–µ—Ä—Å–∏—è (—É–∂–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –Ω–∞ 1.13.3)
2. **20% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å** - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ headers (X-Goog-* –∏–ª–∏ –¥—Ä—É–≥–∏–µ)
3. **10% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å** - requestType –∏–ª–∏ structure body

## üìû –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

**–ù–∞—á–Ω–∏—Ç–µ —Å –ü–æ–¥—Ö–æ–¥–∞ A** - —ç—Ç–æ –∑–∞–π–º–µ—Ç 2 –º–∏–Ω—É—Ç—ã!

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
./scripts/test_claude_pool.sh both 3
```

–ò –ø—Ä–∏—à–ª–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç! –ï—Å–ª–∏ 429 - —Ç–æ–≥–¥–∞ –∏–¥–µ–º –∫ –ª–æ–≥–∞–º –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –ü–æ–¥—Ö–æ–¥ B.

---

**–í—Ä–µ–º—è –ø–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å–µ–¥—É, –∫—Ç–æ —Ç—É—Ç boss!** üòéüí™
